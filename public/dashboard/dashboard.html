<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard | Logaritmos</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../CSS/dashboard.css">
<link rel="stylesheet" href="../CSS/util.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
 <!--Header-->
    <header>
        <div>
            <img src="../assets/imagem/logo.png" alt="">
        </div>   
    </header>

    <!--Sidebar-->
    <div class="sidebar">
        <a href="#"><i class="fa-solid fa-user" onclick="window.location.href='../info.html'"></i></a>
        <a href="#"  class="active"><i class="fa-solid fa-clock"></i></a>
        <a href="#"><i class="fa-solid fa-envelope"  onclick="window.location.href='../../mensagem.html'"></i></a>
        <a href="#"><i class="fa-solid fa-file-lines" onclick="window.location.href='../comparativo.html'"></i></a>
        <a href="#"><i class="fa-solid fa-gear" onclick="window.location.href='../../configuracoes.html'"></i></a>
        <a href="#"><i class="fa-solid fa-right-from-bracket" onclick="logout()"></i></a>
    </div>


<h2>DASHBOARD</h2>
<div class="fundo">

<div class="dashboard-container">

    <div class="top-cards">
    <div class="card">
        <div class="icon-square">
            <i class="fa-solid fa-plane"></i>
        </div>
        <div class="card-content">
            <h3>Taxa de voos nacionais</h3>
            <p> <i class="fa-solid fa-arrow-up"></i> 43,72%</p>
        </div>
    </div>

    <div class="card">
        <div class="icon-square">
            <i class="fa-solid fa-users"></i>
        </div>
        <div class="card-content">
            <h3>Crescimento de passageiros</h3>
            <p> <i class="fa-solid fa-arrow-up"></i> 3,49%</p>
        </div>
    </div>

    <div class="card">
        <div class="icon-square">
            <i class="fa-solid fa-location-dot"></i>
        </div>
        <div class="card-content">
            <h3>Destino mais procurado</h3>
            <p>Destino #1</p>
        </div>
    </div>

    <div class="card">
        <div class="icon-square">
            <i class="fa-solid fa-map-location"></i>
        </div>
        <div class="card-content">
            <h3>Destino menos procurado</h3>
            <p>Destino #26</p>
        </div>
    </div>
</div>


<div class="main-content">
    <div class="charts-container">
        <h4 class="chart-title">Passageiros por Voos Anualmente</h4>
        <div class="chart">
            <canvas id="lineChart" height="70"></canvas>
        </div>

        <h4 class="chart-title">Tráfego de Passageiros por Mês</h4>
        <div class="chart">
            <canvas id="barChart" height="70"></canvas>
        </div>
    </div>

    <div class="table-section">
        <h4 class="table-title">Ranking Destinos Nacionais</h4>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Destinos</th>
                        <th>Embarque</th>
                        <th>Desembarque</th>
                    </tr>
                </thead>
                <tbody id="table-body"></tbody>
            </table>
            <div class="pagination" id="pagination"></div>
        </div>
    </div>
</div>



</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    function logout() {
        sessionStorage.clear();
        window.location.href = '../../login.html';
    }

    // --- Gráficos ---
    const ctxLine = document.getElementById('lineChart').getContext('2d');
    new Chart(ctxLine, {
        type: 'line',
        data: {
            labels: ['2017', '2018','2019','2020','2021','2022','2023', '2024', '2025'],
            datasets: [{
                label: 'Passageiros (milhões)',
                data: [50,55,40,45,60,70, 60, 45, 40, 55],
                borderColor: '#D9D9D9',
                backgroundColor: '#001A27',
            }]
        },
        options: {
            responsive: true,
            plugins: { legend: { labels: { color: '#fff' } } },
            scales: { x:{ ticks:{color:'#fff'} }, y:{ ticks:{color:'#fff'} } }
        }
    });

    const ctxBar = document.getElementById('barChart').getContext('2d');
    new Chart(ctxBar, {
        type: 'bar',
        data: {
            labels: ['Jan','Fev','Mar','Abr','Mai','Jun','Jul','Ago','Set','Out','Nov','Dez'],
            datasets: [{
                label: 'Passageiros (milhares)',
                data: [5,6,7,8,6,7,9,10,8,6,5,7],
                backgroundColor: '#D9D9D9'
            }]
        },
        options: {
            responsive: true,
            plugins: { legend: { labels: { color: '#fff' } } },
            scales: { x:{ ticks:{color:'#fff'} }, y:{ ticks:{color:'#fff'} } }
        }
    });

    // --- Paginação do Ranking de Destinos ---
    const destinos = [];
    for(let i=1;i<=26;i++){
        destinos.push({nome:`Destino #${i}`, embarque:`${Math.floor(Math.random()*20+5)}%`, desembarque:`${Math.floor(Math.random()*20+5)}%`});
    }

    const tableBody = document.getElementById('table-body');
    const pagination = document.getElementById('pagination');
    const rowsPerPage = 5;
    let currentPage = 1;
    const totalPages = Math.ceil(destinos.length / rowsPerPage);

    function renderTable(page){
        tableBody.innerHTML = '';
        const start = (page-1)*rowsPerPage;
        const end = start + rowsPerPage;
        destinos.slice(start,end).forEach(d => {
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${d.nome}</td><td>${d.embarque}</td><td>${d.desembarque}</td>`;
            tableBody.appendChild(tr);
        });
        renderPagination();
    }

    function renderPagination(){
        pagination.innerHTML = '';
        const prev = document.createElement('button');
        prev.textContent = '<';
        prev.disabled = currentPage===1;
        prev.onclick = ()=>{ currentPage--; renderTable(currentPage); };
        pagination.appendChild(prev);

        for(let i=1;i<=totalPages;i++){
            const btn = document.createElement('button');
            btn.textContent = i;
            if(i===currentPage) btn.classList.add('active');
            btn.onclick = ()=>{ currentPage=i; renderTable(currentPage); };
            pagination.appendChild(btn);
        }

        const next = document.createElement('button');
        next.textContent = '>';
        next.disabled = currentPage===totalPages;
        next.onclick = ()=>{ currentPage++; renderTable(currentPage); };
        pagination.appendChild(next);
    }

    renderTable(currentPage);
</script>

</body>
</html>
